<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{admin/index.html}">
<head>
<title>Quản Lý Slide</title>
<link rel="stylesheet" href="/admin/css/slide.css">

</head>
<body>
	<section layout:fragment="main">
		<main id="main" class="main">
			<div class="pagetitle">
				<h1>Quản Lý Slide</h1>
			</div>
			<!-- Phần Thêm Slide -->
			<div class="container">
				<section class="section">
					<h1>Slide hiện tại</h1>
					<div id="additionalImagesPreview" class="mt-3 d-flex flex-wrap">
						<!-- Phần ảnh cũ  -->
						<div th:each="slide, iterStat : ${slides}"
							class="position-relative mt-2"
							style="width: 150px; height: 150px">
							<img
								th:src="'/uploads/slide/' + ${slide.imagePaths.split(',')[0]}"
								class="img-thumbnail"
								th:alt="'Additional Image ' + (${iterStat.index + 1})"
								style="width: 100%; height: 100%">
						</div>
					</div>
				</section>

				<h2 class="text-center">Thêm Slide Mới</h2>

				<!-- Phần chọn ảnh đại diện -->
				<section class="section">
					<h4 style="text-align: center;">Chọn ảnh đại diện cho Slide:</h4>
					<div class="image-placeholder">
						<img id="mainImagePreview" src="default-image.jpg"
							alt="Ảnh đại diện" />
						<button type="button"
							onclick="document.getElementById('mainImageInput').click()">Chọn
							ảnh</button>
					</div>
					<input type="file" id="mainImageInput" class="d-none"
						accept="image/*" onchange="previewMainImage(event)" />
				</section>
				<!-- Phần chọn ảnh bổ sung -->
				<section class="section">
					<h4 style="text-align: center;">Chọn ảnh bổ sung:</h4>
					<button type="button" class="btn btn-primary" id="customFileButton"
						onclick="document.getElementById('additionalImages').click()">Chọn
						ảnh bổ sung</button>
					<input type="file" id="additionalImages" class="d-none" multiple
						accept="image/*" onchange="previewAdditionalImages(event)" />
					<div id="additionalImagesPreview" class="mt-3 d-flex flex-wrap"></div>
				</section>
				<!-- Nút thoát và lưu -->
				<div class="exit-container">
					<a href="/yourstyle/home" class="btn btn-danger">Thoát</a>
					<button type="button" class="btn btn-success btn-save"
						id="saveImagesButton">Lưu ảnh</button>
				</div>
			</div>
		</main>
		<script src="/admin/js/slide.js"></script>
	</section>
</body>
</html>
